<!-- Feed -->
<div class="feed-list-wrapper" data-scroll>
	<!-- Search -->
	<div class="search" data-bind="classes: {'is-visible': all(equal(state_subpage, 'feed'), state_isSearchBlockVisible)} ">
		<div class="search-input-wrapper" data-bind="classes: {'with-text': length(state_queryString)}">
			<input class="search" type="text" placeholder="–ü–æ–∏—Å–∫" maxlength="255"
			       data-bind="value: trim(state_queryString), events: ['input','paste','change']"/>

			<div class="clear-search ic-cross-thin"></div>
		</div>
		<!--<div class="get-geolocation">-->
			<!--<i class="icon ic-geolocation"  data-bind="classes: { hide: state_isGeolocationDisabled}"></i>-->
			<!--<i class="icon ic-geolocation-warning t-red"  data-bind="classes: { hide: not(state_isGeolocationDisabled)}"></i>-->
		<!--</div>-->
		<div class="serch-filters">
			<div class="icon ic-settings"></div>
			<div class="selected-filters-amount" data-bind="text: length(state_appliedFilterIds)"></div>
		</div>
	</div>
	<!--–ù–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π-->
	<div data-bind="toggle: equal(state_stateName, 'no_feeds')" class="text-center">
		<div class="hint  l-mt-20">–ó–¥–µ—Å—å –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, –º—ã —Ä–∞–±–æ—Ç–∞–µ–º –Ω–∞–¥ —ç—Ç–∏–º üòÄ</div>
	</div>

	<!--–í –∏–∑–±—Ä–∞–Ω–Ω–æ–º –Ω–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π-->
	<div data-bind="toggle: equal(state_stateName, 'no_favourite_feeds')" class="text-center">
		<div class="hint  l-mt-20">–í—ã –Ω–µ –¥–æ–±–∞–≤–∏–ª–∏ –Ω–∏ –æ–¥–Ω–æ–≥–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è.</div>
	</div>

	<!--–ï—Å–ª–∏ –Ω–µ—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π-->
	<div data-bind="toggle: equal(state_stateName, 'no_personal_feeds')" class="text-center">
		<div class="hint  l-mt-20">–ó–¥–µ—Å—å –±—É–¥—É—Ç —Å–∞–º—ã–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –¥–ª—è –í–∞—Å –æ—Ç –∫–æ–º–ø–∞–Ω–∏–π, —Å –∫–æ—Ç–æ—Ä—ã–º–∏
			–≤—ã –æ–±—â–∞–µ—Ç–µ—Å—å –∏ –≥–¥–µ —Å–æ–≤–µ—Ä—à–∞–µ—Ç–µ –ø–æ–∫—É–ø–∫–∏. –ù–∏–∫–∞–∫–æ–≥–æ —Å–ø–∞–º–∞!
		</div>
		<div>
			<button class="show-all-feeds theme">–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ</button>
		</div>
	</div>

	<!--–ï—Å–ª–∏ –≤ —Ñ–∏–ª—å—Ç—Ä–µ –≤—ã–±—Ä–∞–Ω –≥–æ—Ä–æ–¥ –∏/–∏–ª–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è, –≥–¥–µ –Ω–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π-->
	<div data-bind="toggle: equal(state_stateName, 'no_feeds_with_conditions')" class="text-center">
		<div class="hint  l-mt-20">–ü–æ–∫–∞ –∑–¥–µ—Å—å –Ω–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –ø—Ä–∏ –∑–∞–¥–∞–Ω–Ω—ã—Ö –í–∞–º–∏ —É—Å–ª–æ–≤–∏—è—Ö.</div>
		<div>
			<button class="show-all-feeds theme">–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ</button>
		</div>
	</div>

	<!--–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞-->
	<div data-bind="toggle: equal(state_stateName, 'error')" class="text-center">
		<h5>–û—à–∏–±–∫–∞</h5>

		<div>–ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫ üòî</div>
	</div>

	<ul class="feed-list row" data-bind="toggle:all( not(state_empty) )"></ul>

	<div class="loader-bubbles blue" data-bind="toggle: state_isLoadingMore"></div>
</div>


<div class="feed-overlay" data-bind="classes:{visible: state_showSidebar}"></div>

<!--Settings-->
<div class="sidebar-right" data-bind="classes:{visible: state_showSidebar}">

	<div class="sidebar-content-panel settings visible">
		<div class="sidebar-header clearfix">
			<button class="button-right hide-sidebar">–ì–æ—Ç–æ–≤–æ</button>
		</div>
		<div class="sidebar-scrollable">
			<div class="sidebar-content-block">
				<div class="sidebar-content-block-heading">–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è</div>
				<div class="is-personal">
					<!--<button class="button blue disable" data-bind="classes:{filled: state_publicFeed}">–í—Å–µ</button>-->
					<!--<button class="button blue enable" data-bind="classes:{filled: state_publicFeed}">–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ</button>-->
					<input type="radio" id="all-feeds" name="is_personal" value="1"
					       data-bind="checked: state_publicFeed"/>
					<label class="button" for="all-feeds">–í—Å–µ</label>
					<input type="radio" id="personal-feeds" name="is_personal" value="0"
					       data-bind="checked: state_publicFeed"/>
					<label class="button" for="personal-feeds">–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ</label>

				</div>
				<div class="hint l-mt-20">
					<div data-bind="classes:{hide: state_publicFeed}">
						–í–∫–ª—é—á–∏—Ç–µ "–í—Å–µ", —á—Ç–æ–±—ã –≤–∏–¥–µ—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –æ—Ç –≤—Å–µ—Ö –∫–æ–º–ø–∞–Ω–∏–π –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤.
					</div>
					<div data-bind="classes:{hide: not(state_publicFeed)}">
						–í–∫–ª—é—á–∏—Ç–µ "–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ", —á—Ç–æ–±—ã –≤–∏–¥–µ—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –æ—Ç –∫–æ–º–ø–∞–Ω–∏–π, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ –í—ã –ø–æ–¥–ø–∏—Å–∞–Ω—ã.
					</div>
				</div>
			</div>

			<a class="show-cities button list-item menu-item" data-bind="attr:{disabled: not(state_publicFeed)}">
				<span class="content">
					<div class="text">–ì–æ—Ä–æ–¥</div>
					<div class="selected-city" data-bind="underscore: state_selectedCity">
						<script type="text/template">
							<@- obj.name ? obj.name : '–ê–≤—Ç–æ–≤—ã–±–æ—Ä' @>
						</script>
					</div>
				</span>
				<i class="ic-chevron-right"></i>
			</a>
			<a class="show-filters button list-item menu-item">
				<span class="content">
					<span class="text">–§–∏–ª—å—Ç—Ä—ã</span>
					<span class="selected-filters-amount" data-bind="text: length(state_appliedFilterIds)"></span>
				</span>
				<i class="ic-chevron-right"></i>
			</a>

		</div>
	</div>

	<div class="sidebar-content-panel filters" data-bind="classes:{visible: state_showFilters}">
		<div class="sidebar-header">
			<button class="button-left filters-ready">
				<i class="ic-chevron-left"></i>
			</button>
			<button class="button-right  filters-reset">
				<span class="selected-filters-amount" data-bind="text: length(state_appliedFilterIds)"></span>
				–°–±—Ä–æ—Å–∏—Ç—å
			</button>
		</div>
		<ul class="sidebar-scrollable" data-bind="underscore:state_filters">
			<div class="loader-bubbles blue" data-bind="toggle: state_isLoadingFilters"></div>
			<script type="text/template">
				<@ _.each(obj, function(category) { @>
				<li class="filter-category">
					<div class="filter-category-title"><@- category.name @></div>
					<ul class="filters-list">
						<@ _.each(category.items, function(filter) { @>
						<li class="filter <@- filter.applied? 'is-applied' : '' @>"
						    data-filter-id="<@- filter.id @>">
							<i class="icon <@- ICONTO_COMPANY_CATEGORY[filter.id] @>"></i>
							<span class="content">
								<span class="checked ic-check"></span>
								<span class="name"><@- filter.name @></span>
							</span>
						</li>
						<@ }); @>
					</ul>
				</li>
				<@ }); @>
			</script>
		</ul>
	</div>

	<div class="sidebar-content-panel cities" data-bind="classes:{visible: state_showCities}">
		<div class="sidebar-header">
			<button class="button-left cities-ready">
				<i class="ic-chevron-left"></i>
			</button>
			<button class="button-right  cities-reset">
				–°–±—Ä–æ—Å–∏—Ç—å
			</button>
		</div>
		<div class="sidebar-content-block">
			<div data-bind="underscore:state_selectedCity">
				<script type="text/template">
					<@ if (obj.id) { @>
					<div class="selected-city hint l-mb-10 l-ml-3">–í—ã–±—Ä–∞–Ω–æ: <@- name @></div>
					<@ } @>
				</script>
			</div>
			<input class="city-input" name="city" type="text" placeholder="–í–≤–µ–¥–∏—Ç–µ –≥–æ—Ä–æ–¥"
			       data-bind="value: state_cityQueryString, events: ['input', 'paste', 'change']"/>
		</div>
		<div class="sidebar-scrollable cities-container">
			<div class="loader-bubbles blue" data-bind="toggle: state_isLoadingCities"></div>
			<ul data-bind="underscore:state_cities">
				<script type="text/template">
					<@ _.each(obj, function(city) {  @>
					<li class="city-item" data-city-id="<@- city.id @>"><@- city.name @></li>
					<@ }); @>
				</script>
			</ul>
		</div>
	</div>

</div>